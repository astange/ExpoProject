{% extends "layout.html" %}
{% block content %}
    <div>
	                <div style="background: #f5f2f0; float:right">
	                  <p>
	                    <label>
	                        <code>Tools/Objects</code>
	                    </label>
	                  </p>
                      <p>
                        <button type="button" id="use-image" name="image" value="useImage">
                            <code>Image...</code>    
                        </button> 
                      </p>
                      <p>
                        <button type="button" id="draw-table" name="table" value="drawTable">
                            <code>Table</code>    
                        </button> 
                      </p>
                      <p>
                        <button type="button" id="free-draw"name="Polyline" value="drawPolyline">
                            <code>Free Draw (Maybe have this?)</code>    
                        </button> 
                      </p>
                      <p>
                        <button type="button" id="reset" name="Reset" value="reset">
                            <code>Reset</code>    
                        </button> 
                      </p>
                      <p>
                        <button type="button" name="Save" value="save">
                            <code>Save</code>    
                        </button> 
                      </p>
                      <p>
                        <button type="button" name="Load" value="load">
                            <code>Load</code>    
                        </button> 
                      </p>
                      <p>
                        <button type="button" name="MoveBack" value="back">
                            <code>Move Selected Object back</code>    
                        </button> 
                      </p>
                      <p>
                        <button type="button" name="MoveForward" value="front">
                            <code>Move Selected Object to Front</code>    
                        </button> 
                      </p>
                      <p>
                        <label>
                          <input id="NormalMap" type="checkbox" checked>
                          <code>Normal Map</code>
                        </label>
                      </p>
                      <p>
                        <label>
                          <input id="RainMap" type="checkbox">
                          <code>Rain Map</code>
                        </label>
                      </p>
                    </div>
                    <div style="width: 500px; height: 400px; position: relative;">
	                <canvas id="canvas" width="500" height="400" style="border:1px solid #000000; float=left;"></canvas>
	                </div>
                    <script id="main">(function(){
                        var canvas = new fabric.Canvas('canvas');
                        canvas.add(new fabric.Circle({radius:30, fill: '#f55', top:100, left:100}));
                        
                        canvas.selectionColor = 'rgba(0,255,0,0.3)';
                        canvas.selectionBorderColor = 'red';
                        canvas.selectionLineWidth = 5;
                        
                        function observeChecked(property) {
                            document.getElementById(property).onclick = function() {
                                canvas.item(0)[property] = this.checked;
                                canvas.renderAll();  
                            };
                        }
                        document.getElementById('NormalMap').onclick = function() {
                            document.getElementById('RainMap').checked = !this.checked; 
                        };
                        document.getElementById('RainMap').onclick = function() {
                            document.getElementById('NormalMap').checked = !this.checked; 
                        };
                        
                        document.getElementById('reset').onclick = function() {
                            var r = confirm("Are you sure you would like to reset?\nWarning! This WILL delete all information and make your data unrecoverable.");
                            if(r == false) return false;
                            var objects = canvas.getObjects();
                            for(var i = 0; i < objects.length; i++){
                                canvas.remove(objects[i]);
                            }
                        };
                        })();
                    </script>
                   </div>
{% endblock %}
